@model SisEmpleo.Models.Viewmodels.PostulanteViewModel

@if (Model == null)
{
    <div class="alert alert-warning">
        No hay datos para mostrar. Por favor completa tu perfil.
    </div>
}
else
{
    var camposFaltantes = new List<string>();
    if (string.IsNullOrWhiteSpace(Model.Telefono)) { camposFaltantes.Add("Teléfono"); }
    if (string.IsNullOrWhiteSpace(Model.Pais)) { camposFaltantes.Add("País"); }
    if (string.IsNullOrWhiteSpace(Model.Provincia)) { camposFaltantes.Add("Provincia"); }
    if (Model.Idiomas == null || !Model.Idiomas.Any()) { camposFaltantes.Add("Idiomas"); }
    if (Model.Habilidades == null || !Model.Habilidades.Any()) { camposFaltantes.Add("Habilidades"); }

    if (camposFaltantes.Any())
    {
        <div class="alert alert-info">
            <strong>¡Tu perfil está incompleto!</strong>
            <br />
            Faltan los siguientes campos: @string.Join(", ", camposFaltantes).
            <a href="@Url.Action("EditarPerfil", "Perfil")" class="btn btn-sm btn-primary ml-2">Completa tu perfil aquí</a>
        </div>
    }

    <div class="card shadow mb-4">
        <div class="card-header bg-primary text-white">
            <h2>@Model.Nombre @Model.Apellidos</h2>
        </div>
        <div class="card-body">
            <p><strong>Email:</strong> @Model.Email</p>
            <p><strong>Teléfono:</strong> @(string.IsNullOrWhiteSpace(Model.Telefono) ? "No especificado" : Model.Telefono)</p>
            <p><strong>País:</strong> @(string.IsNullOrWhiteSpace(Model.Pais) ? "No especificado" : Model.Pais)</p>
            <p><strong>Provincia:</strong> @(string.IsNullOrWhiteSpace(Model.Provincia) ? "No especificado" : Model.Provincia)</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-header bg-info text-white">
                    <h4>Idiomas</h4>
                </div>
                <div class="card-body">
                    @if (Model.Idiomas != null && Model.Idiomas.Any())
                    {
                        <ul class="list-group list-group-flush">
                            @foreach (var idioma in Model.Idiomas)
                            {
                                <li class="list-group-item">@idioma</li>
                            }
                        </ul>
                    }
                    else
                    {
                        <span class="text-danger">No especificado</span>
                    }
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-header bg-info text-white">
                    <h4>Habilidades</h4>
                </div>
                <div class="card-body">
                    @if (Model.Habilidades != null && Model.Habilidades.Any())
                    {
                        <ul class="list-group list-group-flush">
                            @foreach (var habilidad in Model.Habilidades)
                            {
                                <li class="list-group-item">@habilidad</li>
                            }
                        </ul>
                    }
                    else
                    {
                        <span class="text-danger">No especificado</span>
                    }
                </div>
            </div>
        </div>
    </div>
}
